!function(t){function e(e){for(var r,i,c=e[0],l=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(s&&s(e);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;a.push([8,1]),n()}({18:function(t,e,n){var r=n(19);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(21)(r,o);r.locals&&(t.exports=r.locals)},19:function(t,e,n){(t.exports=n(20)(!1)).push([t.i,"*{margin:0;padding:0;box-sizing:border-box;word-break:normal}button{outline:none;box-shadow:none;background-color:#fff;padding:6px;margin:0px 5px 0px 5px}.half{width:calc(50% - 20px);float:left}.half textarea{width:100%}#test-paper{width:100%;max-width:767px;box-shadow:0px 0px 20px #999;text-align:center;border-radius:10px;margin:20px auto;float:none}#score{text-align:right}.paper{margin:10px;padding:10px}.star-note-buttons{text-align:right}.star-note-buttons .starBTN,.star-note-buttons .noteBTN{cursor:pointer;color:#ccc;padding:0px 10px}.star-note-buttons .starBTN.active,.star-note-buttons .starBTN:hover,.star-note-buttons .noteBTN.active,.star-note-buttons .noteBTN:hover{color:#000}.question-container{display:flex;text-align:left}.question-container .answer-part{display:flex;width:15%;padding:0px 5px 0px 5px;align-items:center;justify-content:center}.question-container .answer-part .answer-active{font-size:24px;color:#00f}.question-container .answer-part .answer-default{font-size:12px;color:#ddd}.question-container .question-part{width:90%;margin:10px 0px 10px 0px}.question-container .question-part .question{width:100%;padding-bottom:10px}.question-container .question-part .options{padding:10px;cursor:pointer}\n",""])},23:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(7),i=n.n(a),c=n(3),l=n(4),u=n(5);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=[],o=0,a=n>=e?e:n,i=Math.abs(n-e)+1,c=t>i?i:t;o<c;)for(var l=a+~~(Math.random()*i);-1===r.indexOf(l);)r=[].concat(f(r),[l]),o+=1;return r},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=1*e,a=t.length,i=t.filter(function(t){return t.id===o})[0],c=t.map(function(t){return t.id}).indexOf(o),l=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}({},i,s({},n,r));return 0===c?[l].concat(f(t.slice(1,a))):c===a?[].concat(f(t.slice(0,a-1)),[l]):[].concat(f(t.slice(0,c)),[l],f(t.slice(c+1,a)))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.filter(function(t){return t.star}),a=function(t){return t>1?t:1},i=[],c=p(e,0,t?a(o.length)-1:a(n.length)-1);if(r){var l=!0,u=!1,s=void 0;try{for(var d,m=c[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var y=d.value;i=[].concat(f(i),t?[o[y]]:[n[y]])}}catch(t){u=!0,s=t}finally{try{l||null==m.return||m.return()}finally{if(u)throw s}}}else i=t?o.slice(0,e):n.slice(0,e);return void 0===i[0]?[]:i},y=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")?{backgroundColor:"#111",color:"#fff"}:{backgroundColor:"#ddd",color:"#111"}};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t){return(b="function"==typeof Symbol&&"symbol"===h(Symbol.iterator)?function(t){return h(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":h(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function S(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?E(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var N=function(t){var e={id:t,star:!1,noteContext:""};localStorage.getItem("starAndNote")||localStorage.setItem("starAndNote",JSON.stringify([]));var n=JSON.parse(localStorage.getItem("starAndNote")),r=n.filter(function(e){return e.id===t})[0];return r||(localStorage.setItem("starAndNote",JSON.stringify([].concat(_(n),[e]))),e)},k=function(t,e,n){var r=JSON.parse(localStorage.getItem("starAndNote"));localStorage.setItem("starAndNote",JSON.stringify(d(r,t,e,n)))},C=function(t){function e(t){var n;return v(this,e),j(E(n=S(this,O(e).call(this,t))),"_handleOptionTitle",function(t){var e=t.target.getAttribute("answer");n.setState({yourAnswer:e}),n.props.changeAnswer(t)}),n.state={isEditNote:!1,yourAnswer:""},n}return A(e,o.a.Component),w(e,[{key:"render",value:function(){var t=this.props,e=t.myAnswer,n=void 0===e?[]:e,a=t.id,i=void 0===a?1:a,c=t.question,l=void 0===c?"":c,u=t.options,s=void 0===u?[]:u,f=t.isHandIn,p=void 0!==f&&f,d=n.filter(function(t){return t.id===i})[0],m=function(t){for(var e=[],n=["A","B","C","D","E"],r=0;r<t.length;r++)e[r]={id:n[r],options:t[r]};return e}(s);return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"question-container"},o.a.createElement("div",{className:"answer-part"},o.a.createElement("span",{className:d.answer?"answer-active":"answer-default"},this.state.yourAnswer||"your answer")),o.a.createElement("div",{className:"question-part"},o.a.createElement("form",{onChange:this._handleOptionTitle,id:i,onSubmit:function(t){return t.preventDefault()}},o.a.createElement("h3",null," ",o.a.createElement("span",null,"notYet"!==d.checked?d.checked?"✔":"✘":"")," "),o.a.createElement("p",{className:"question"},l),m.map(function(t){return o.a.createElement("label",{className:"options"},o.a.createElement("input",{type:"radio",name:i,value:t.options,answer:t.id,disabled:p}),o.a.createElement("span",{style:{color:"blue"}},t.id)," "+t.options)})))),o.a.createElement("hr",null))}}]),e}(),P=function(t){function e(t){var n;return v(this,e),(n=S(this,O(e).call(this,t))).state={},n}return A(e,o.a.Component),w(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=void 0===e?0:e,r=t.star,a=void 0!==r&&r,i=t.starFn,c=void 0===i?function(){}:i;return o.a.createElement("span",{onClick:c,name:n,className:a?"starBTN active":"starBTN"},o.a.createElement(l.a,{icon:"star"}))}}]),e}(),I=function(t){function e(t){var n;return v(this,e),j(E(n=S(this,O(e).call(this,t))),"_handleOpenNote",function(){n.setState(function(t){return{isEditNote:!t.isEditNote}})}),n.state={isEditNote:!1,note:""},n}return A(e,o.a.Component),w(e,[{key:"render",value:function(){var t=this.props,e=t.id,n=void 0===e?0:e,a=t.noteContext,i=void 0===a?"":a,c=t.noteFn,u=void 0===c?function(){}:c,s=t.isHandIn,f=this.state.isEditNote;return o.a.createElement(r.Fragment,null,o.a.createElement("span",{className:"noteBTN"},o.a.createElement(l.a,{onClick:s?this._handleOpenNote:function(){window.alert("交卷後才能記筆記~")},name:n,icon:"edit"})),o.a.createElement("form",null,o.a.createElement("textarea",{name:n,onChange:u,value:i,style:{display:f?"block":"none",width:400,height:100}})))}}]),e}(),T=function(t){function e(t){var n;return v(this,e),j(E(n=S(this,O(e).call(this,t))),"setDataFromLS",function(){var t=n.props.id,e=N(t);n.setState({id:e.id,star:e.star,noteContext:e.noteContext})}),j(E(n),"componentWillMount",function(){n.setDataFromLS()}),j(E(n),"componentDidUpdate",function(t,e){t.id!==n.state.id&&n.setDataFromLS()}),j(E(n),"_handleStar",function(){var t=n.state,e=t.id,r=t.star;n.setState({star:!n.state.star}),k(e,"star",!r)}),j(E(n),"_handleEditNote",function(t){var e=n.state.id,r=t.target.value;n.setState({noteContext:r}),k(e,"noteContext",r)}),n.state={id:0,star:!1,noteContext:""},n}return A(e,o.a.PureComponent),w(e,[{key:"render",value:function(){var t=this.state,e=t.id,n=t.star,r=t.noteContext,a=this.props.isHandIn;return o.a.createElement("div",{className:"star-note-buttons"},o.a.createElement(P,{id:e,star:n,starFn:this._handleStar}),o.a.createElement(I,{id:e,noteContext:r,noteFn:this._handleEditNote,isHandIn:a}))}}]),e}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t){return(q="function"==typeof Symbol&&"symbol"===M(Symbol.iterator)?function(t){return M(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":M(t)})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=B(this,F(e).call(this,t))).state={},n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,o.a.PureComponent),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.testQA,n=void 0===e?[]:e,r=t.myAnswer,a=t.isHandIn,i=t.changeAnswer,c=t.checkAnswer;return o.a.createElement("div",{id:"test-paper",className:"half paper"},o.a.createElement("h4",{id:"score"},"SCORE:",o.a.createElement("span",null,a?~~(r.filter(function(t){return t.checked}).length/n.length*100):"")),o.a.createElement("hr",null),n.length>0?n.map(function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(T,{id:t.id,isHandIn:a}),o.a.createElement(C,{key:t.id,changeAnswer:i,myAnswer:r,id:t.id,question:t.question,options:t.options,isHandIn:a}))}):"尚無題目",o.a.createElement("hr",null),o.a.createElement("button",{onClick:c},"Check Answer!"))}}])&&H(n.prototype,r),a&&H(n,a),e}();n(18);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t){return(R="function"==typeof Symbol&&"symbol"===J(Symbol.iterator)?function(t){return J(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":J(t)})(t)}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){G(t,e,n[e])})}return t}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}c.b.add(u.b,u.a);var K=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.random();e===t;)e=Math.random();return e},V=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=Y(e).call(this,t),n=!o||"object"!==R(o)&&"function"!=typeof o?W(r):o,G(W(n),"componentWillMount",function(){fetch("../src/QAfiles/QA01.json").then(function(t){return t.json()}).then(function(t){var e=JSON.parse(localStorage.getItem("starAndNote")),r=t;if(e)for(var o=0;o<e.length;o++)r=d(r,e[o].id,"star",e[o].star);var a=r.map(function(t){return{id:t.id,answer:"",correctAnswer:t.correctAnswer,checked:"notYet"}});n.setState({allTestQA:r,myAnswer:a})}).catch(function(t){})}),G(W(n),"componentDidMount",function(){}),G(W(n),"_handleChangeMode",function(t){var e=t.target.id.slice(9);e!==n.state.testMode&&n.setState({testMode:e})}),G(W(n),"_handleTestPaper",function(){var t=n.state,e=t.testMode,r=t.testAmount,o=t.allTestQA,a=t.myAnswer;console.log("myAnswer: ",a[0].answer);var i="star"===e;n.setState(function(t){return{isHandIn:!1,keyId:K(t.keyId),testQA:m(i,r,o,!0)}}),n.testPaper&&n.setState({myAnswer:a.map(function(t){return z({},t,{answer:"",checked:"notYet"})})})}),G(W(n),"_handleCheckAnswer",function(){var t=n.state.myAnswer.map(function(t){return z({},t,{checked:t.answer===t.correctAnswer})});n.setState({isHandIn:!0,myAnswer:t})}),G(W(n),"_handleChangeAnswer",function(t){var e=n.state,r=e.myAnswer,o=e.isHandIn,a=t.target,i=a.name,c=a.value;console.log(t.target.getAttribute("answer"));var l=d(r,i,"answer",c);console.log(l),o||n.setState({myAnswer:l})}),G(W(n),"_handleChangeAmout",function(t){n.setState({testAmount:t.target.value})}),n.state={myAnswer:[{}],isHandIn:!1,allTestQA:[],testQA:[],testAmount:5,testMode:"all",isNew:!1,keyId:0,viewMyNote:!1},n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,o.a.Component),n=e,(r=[{key:"render",value:function(){var t=this,e=this.state,n=e.myAnswer,r=e.isHandIn,a=e.testAmount,i=e.keyId,c=e.testQA,l=void 0===c?[]:c,u=e.viewMyNote;return o.a.createElement("div",null,o.a.createElement("div",{className:"tab-menu"},o.a.createElement("button",{id:"testMode-all",style:y(this.state.testMode,"all"),onClick:this._handleChangeMode},"從全部考題出題"),o.a.createElement("button",{id:"testMode-star",style:y(this.state.testMode,"star"),onClick:this._handleChangeMode},"從收藏出題"),o.a.createElement("span",null,"   "),o.a.createElement("input",{type:"number",value:a,onChange:this._handleChangeAmout}),o.a.createElement("button",{onClick:this._handleTestPaper},"出題！！"),o.a.createElement("button",null,"查看我的筆記")),o.a.createElement("hr",null),o.a.createElement("div",null,o.a.createElement(D,{key:i,ref:function(e){return t.testPaper=e},testQA:l,myAnswer:n,isHandIn:r,changeAnswer:this._handleChangeAnswer,checkAnswer:this._handleCheckAnswer})),o.a.createElement("div",{className:"half",style:{display:u?"block":"none"}},o.a.createElement("h2",null,"My Note"),o.a.createElement("textarea",null)))}}])&&L(n.prototype,r),a&&L(n,a),e}();i.a.render(o.a.createElement(V,null),document.getElementById("root"))},8:function(t,e,n){t.exports=n(23)}});